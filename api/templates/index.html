<div>
    <p>
        satid <span id='satid'></span>
    </p>

    <p>
        satname <span id='satname'></span>
    </p>

    <p>
        satlatitude <span id='satlatitude'></span>
    </p>

    <p>
        satlongitude <span id='satlongitude'></span>
    </p>

    <p>
        sataltitude <span id='sataltitude'></span>
    </p>

    <div id='err-display' style="color:red"></div>
</div>

<script type="text/javascript" charset="utf-8">
    function getSatellite() {
        const satid = document.querySelector('#satid');
        const satname = document.querySelector('#satname');
        const satlatitude = document.querySelector('#satlatitude');
        const satlongitude = document.querySelector('#satlongitude');
        const sataltitude = document.querySelector('#sataltitude');
        const errDisplay = document.querySelector('#err-display');

        fetch("/get-satellite-data").then(r => r.json()).then(data => {            
            satid.textContent = data.satid;
            satname.textContent = data.satname;
            satlatitude.textContent = data.satlatitude;
            satlongitude.textContent = data.satlongitude;
            sataltitude.textContent = data.sataltitude;
            errDisplay.textContent = "";

            window.setTimeout(getSatellite, 2500);
        }).catch(err => {
            errDisplay.textContent = "Could not get satellite data";
            window.setTimeout(getSatellite, 2500);
        });
    }

    window.addEventListener('DOMContentLoaded', () => {
        getSatellite();
    });
</script>
